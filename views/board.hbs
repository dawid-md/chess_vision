<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaderboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</head>
<body>

<div class="container d-flex justify-content-center">
<div class="col-8">

<h1 class="fw-bold mb-2 mt-2 fs-2">Leaderboard</h1>

<table class="table" id="leaderboard">
  <thead>
    <tr class="table-dark">
      <th scope="col">#</th>
      <th scope="col">Player</th>
      <th scope="col">Score</th>
      <th scope="col">Date</th>
    </tr>
  </thead>
  <tbody>
    {{!-- <tr>
      <th scope="row"></th>
      <td></td>
      <td></td>
      <td></td>
    </tr> --}}
  </tbody>
</table>

<script>
    let users = {{{ userData }}}
    users?.sort((a, b) => (a.score > b.score ? -1 : 1))

    users.forEach(user => {
        fillTable(user)
    });

    function fillTable(user) {
        let table = document.getElementById("leaderboard");
        let row = table.insertRow(-1);
        let cell1 = row.insertCell(0);
        let cell2 = row.insertCell(1);
        let cell3 = row.insertCell(2);
        let cell4 = row.insertCell(3);

        cell1.innerHTML = document.getElementById('leaderboard').rows.length - 1
        cell2.innerHTML = user['name']
        cell3.innerHTML = user['score']
        cell4.innerHTML = (user['date'].toString()).substring(0, 10);
    }

</script>

</div>
</div>

</body>
</html>